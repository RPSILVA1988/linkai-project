const a4_0x18214e=a4_0x2799;(function(_0x4d1c3d,_0x10d5f7){const _0x431763=a4_0x2799,_0x3e4125=_0x4d1c3d();while(!![]){try{const _0x108a43=-parseInt(_0x431763(0xdb))/0x1*(parseInt(_0x431763(0xdf))/0x2)+-parseInt(_0x431763(0xe3))/0x3+parseInt(_0x431763(0xda))/0x4+-parseInt(_0x431763(0xcf))/0x5+-parseInt(_0x431763(0xe0))/0x6+parseInt(_0x431763(0xce))/0x7*(-parseInt(_0x431763(0xd7))/0x8)+parseInt(_0x431763(0xe5))/0x9;if(_0x108a43===_0x10d5f7)break;else _0x3e4125['push'](_0x3e4125['shift']());}catch(_0x6876ba){_0x3e4125['push'](_0x3e4125['shift']());}}}(a4_0x183e,0xf27da));function a4_0x183e(){const _0x27c391=['1561285RtigVg','username','body','_id','keys','name','status','json','5725008cPyEDI','Username\x20or\x20email\x20already\x20in\x20use','map','7895136Tbzqwz','1617571JnCaOc','../models/SocialProfile','findByIdAndDelete','deleteAccount','2LMVCqR','5811942diAiaP','../models/User','user','780876cqOziF','deleteMany','26044749JcqNlj','email','findOne','../models/Link','7SwsTmk'];a4_0x183e=function(){return _0x27c391;};return a4_0x183e();}const User=require(a4_0x18214e(0xe1)),Link=require(a4_0x18214e(0xcd)),SocialProfile=require(a4_0x18214e(0xdc));function a4_0x2799(_0x29b0b3,_0x3c3cc1){const _0x183ef8=a4_0x183e();return a4_0x2799=function(_0x2799f1,_0x3655d1){_0x2799f1=_0x2799f1-0xcb;let _0x3fe760=_0x183ef8[_0x2799f1];return _0x3fe760;},a4_0x2799(_0x29b0b3,_0x3c3cc1);}exports['updateProfile']=async(_0x1748ab,_0x789905,_0x5d14e4)=>{const _0x1c5d84=a4_0x18214e;try{const {name:_0x4d7603,username:_0x5b32b6,email:_0x4a8dee,bio:_0x4268f2}=_0x1748ab[_0x1c5d84(0xd1)],_0x5c5fd0=_0x1748ab[_0x1c5d84(0xe2)]['id'];if(_0x5b32b6||_0x4a8dee){const _0x2776e6={};if(_0x5b32b6)_0x2776e6[_0x1c5d84(0xd0)]=_0x5b32b6;if(_0x4a8dee)_0x2776e6[_0x1c5d84(0xcb)]=_0x4a8dee;const _0x170655=await User[_0x1c5d84(0xcc)]({'$and':[{'_id':{'$ne':_0x5c5fd0}},{'$or':Object[_0x1c5d84(0xd3)](_0x2776e6)[_0x1c5d84(0xd9)](_0x3055b0=>({[_0x3055b0]:_0x2776e6[_0x3055b0]}))}]});if(_0x170655)return _0x789905[_0x1c5d84(0xd5)](0x190)[_0x1c5d84(0xd6)]({'success':![],'message':_0x1c5d84(0xd8)});}const _0x17fb64={};if(_0x4d7603)_0x17fb64[_0x1c5d84(0xd4)]=_0x4d7603;if(_0x5b32b6)_0x17fb64[_0x1c5d84(0xd0)]=_0x5b32b6;if(_0x4a8dee)_0x17fb64[_0x1c5d84(0xcb)]=_0x4a8dee;if(_0x4268f2!==undefined)_0x17fb64['bio']=_0x4268f2;const _0x2e1c3b=await User['findByIdAndUpdate'](_0x5c5fd0,_0x17fb64,{'new':!![],'runValidators':!![]});_0x789905[_0x1c5d84(0xd6)]({'success':!![],'user':{'id':_0x2e1c3b[_0x1c5d84(0xd2)],'name':_0x2e1c3b[_0x1c5d84(0xd4)],'username':_0x2e1c3b['username'],'email':_0x2e1c3b[_0x1c5d84(0xcb)],'bio':_0x2e1c3b['bio']}});}catch(_0x59eb2){_0x5d14e4(_0x59eb2);}},exports[a4_0x18214e(0xde)]=async(_0x37eb62,_0x5a790f,_0x5f5226)=>{const _0x88866=a4_0x18214e;try{const _0x1139f3=_0x37eb62[_0x88866(0xe2)]['id'];await Link[_0x88866(0xe4)]({'user':_0x1139f3}),await SocialProfile['deleteMany']({'user':_0x1139f3}),await User[_0x88866(0xdd)](_0x1139f3),_0x5a790f[_0x88866(0xd6)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x512858){_0x5f5226(_0x512858);}};